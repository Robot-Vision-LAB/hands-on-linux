# 사용자, 그룹, 권한

OS는 사용자를 **사용자 ID**라는 숫자로 관리한다.

사용자 ID와는 별개로 관리를 편하게 하기 위해서 사용자명(유저네임, 로그인명, 로그인네임)이라는 문자열로 사용자를 관리한다.



몇몇 사용자를 묶어서 **그룹**으로 관리한다.

사용자는 반드시 하나 이상의 그룹에 속해야 하고 사용자가 주로 속하는 그룹을 **프라이버리 그룹**(primary group)이라고 한다.

새로 작성한 파일이나 디렉터리는 사용자가 속한 프라이머리 그룹 소속이 된다.

그룹에도 사용자 ID와 마찬가지로 그룹 ID라는 번호를 할당한다.



여러 사용자가 동시에 사용하는 경우 파일의 삭제나 멋대로 보는 문제를 방지하기 위해서 리눅스에서는 파일이나 디렉터리마다 읽기 권한, 쓰기 권한, 실행 권한을 설정한다.

실행 권한은 파일을 소유한 사용자, 그룹, 기타에 따라 각각 설정한다.



| 사용자명    | 소속 그룹     | 프라이머리 그룹 |
| ----------- | ------------- | --------------- |
| maltman     | users         | users           |
| maker       | users, winary | users           |
| wine-grower | winary        | winary          |



위의 표와 같이 사용자 그룹이 설정되어있을때 소유자가 maltman이고 user그룹에 소속인 `beer_recipe` 파일이 있다고 하자.

같은 그룹인 maltman이나 maker는 파일을 읽을 수 있지만 wine-grower는 파일을 읽을 수 없다.

소유자인 maltam만 파일을 수정할 수 있다.

</br>

## 리눅스 권한 알아보기

리눅스에서 권한은 3자리(ex. 777) 숫자로 표시하거나 (ex. -rwxrw-r--) 처럼 7자리 문자로표시한다.

### `chmod`의 권한 표현

2진수 3자리로 권한을 표현한다. (ex. `777`)

- 읽기: 4
- 쓰기: 2
- 실행: 1
  
```
→ 읽기: 100, 쓰기: 010, 실행: 001
→ 모든 권한인 경우 111(2진수) == 7(10진수)
```

<h4>숫자 권한</h4>

- 첫재 자리: 소유자 권한
- 두번째 자리: 그룹 사용자 권한
- 세번째 자리: 기타 사용자 권한

</br>

### `ls`의 권한 표현

글자로 권한을 표현한다. (ex. `-rw-r--r--`)

- 첫째 자리: 파일 타입 (d: 디렉터리. - : 일반 등)
- 다음 세자리: 소유자 권한
- 다음 세자리: 그룹사용자 권한
- 마지막 세자리: 기타 사용자 권한
